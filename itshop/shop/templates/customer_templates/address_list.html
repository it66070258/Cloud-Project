{% extends 'customer_templates/base.html' %}
{% load static %}

{% block title %} ทึ่อยู่จัดส่ง {% endblock %}

{% block content %}
<div class="flex flex-col items-center justify-center py-10 gap-2">
    <div class="w-2/3 px-8 py-4 bg-white/95 backdrop-blur-sm rounded-xl border-2 border-blue-200 shadow-sm flex justify-between items-center mb-2">
        <p class="text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-500 bg-clip-text text-transparent flex items-center gap-2">
            <i class="fa-solid fa-map-location-dot text-blue-500"></i>
            <span>ที่อยู่จัดส่ง</span>
        </p>
        <a href="{% url 'address_create' %}">
            <button
                class="px-4 py-2 rounded-lg text-left bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white hover:cursor-pointer font-medium shadow-md hover:shadow-lg transition-all duration-300">
                <i class="fa-solid fa-plus mr-2"></i>
                <span>เพิ่มที่อยู่</span>
            </button>
        </a>
    </div>
    {% if not addresses %}
    <div class="w-2/3 px-12 p-8 rounded-xl border-2 border-blue-200 bg-white/95 backdrop-blur-sm shadow-sm text-center text-gray-500">
        ไม่มีที่อยู่จัดส่ง
    </div>
    {% else %}
    {% for address in addresses %}
    <div class="w-2/3 px-8 py-6 bg-white/95 backdrop-blur-sm rounded-xl border-2 border-blue-200 shadow-sm hover:shadow-lg transition-all duration-300 flex justify-between items-start">
        <div class="space-y-1">
            <p class="font-bold text-gray-800 text-lg">{{ address.full_name }}</p>
            <p class="text-gray-600 text-sm flex items-center gap-2">
                <i class="fa-solid fa-phone text-blue-500"></i>
                {{ address.phone }}
            </p>
            <p class="text-gray-700 text-sm flex items-start gap-2">
                <i class="fa-solid fa-location-dot text-blue-500 mt-1"></i>
                <span>
                    {{ address.address }}<br>
                    {{ address.sub_district }} {{ address.district }}<br>
                    {{ address.province }} {{ address.postal_code }}
                </span>
            </p>
        </div>
        <div class="flex flex-col gap-2 text-right">
            <a href="{% url 'address_edit' address.id %}">
                <button class="px-3 py-2 text-sm border-2 border-yellow-400 text-yellow-600 rounded-lg hover:border-yellow-500 hover:bg-yellow-50 hover:cursor-pointer font-medium transition-all duration-300">
                    <i class="fa-solid fa-pen-to-square"></i> แก้ไข
                </button>
            </a>
            <form method="post" action="{% url 'address_delete' address.id %}">
                {% csrf_token %}
                <button type="submit" class="px-3 py-2 text-sm border-2 border-red-400 text-red-500 rounded-lg hover:border-red-500 hover:bg-red-50 hover:cursor-pointer font-medium transition-all duration-300" onclick="return confirm('ต้องการลบที่อยู่นี้หรือไม่?');">
                    <i class="fa-solid fa-trash"></i> ลบ
                </button>
            </form>
        </div>
    </div>

    {% endfor %}
    {% endif %}
</div>
{% endblock %}